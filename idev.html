<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="حاسبة سعر الصرف في اليمن - عدن وصنعاء - البيع والشراء تلقائي">
  <meta name="keywords" content="سعر الصرف في اليمن، الدولار، الريال اليمني، صنعاء، عدن، بيع الدولار، شراء الدولار">
  <meta name="author" content="Yemen Exchange Calculator">
  <title>حاسبة سعر الصرف - اليمن</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      direction: rtl;
      background-color: #f8f8f8;
      padding: 20px;
    }
    .container {
      max-width: 400px;
      margin: auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    label, select, input {
      display: block;
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
    }
    button {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 10px;
      width: 100%;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #218838;
    }
    .result {
      margin-top: 15px;
      font-size: 18px;
      font-weight: bold;
      color: #333;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>حاسبة سعر الصرف - اليمن</h1>
    <p id="location">جاري تحديد موقعك...</p>

    <label for="type">نوع العملية</label>
    <select id="type">
      <option value="buy">شراء</option>
      <option value="sell">بيع</option>
    </select>

    <label for="amount">المبلغ بالدولار</label>
    <input type="number" id="amount" placeholder="مثال: 100" />

    <button onclick="calculate()">احسب</button>
    <div class="result" id="result"></div>
  </div>

  <script>
    let userLocation = "عدن"; // الافتراضي
    let rates = {
      "عدن": { buy: 1300, sell: 1320 },
      "صنعاء": { buy: 530, sell: 540 }
    };

    // تحديد الموقع من IP
    fetch('https://ipapi.co/json/')
      .then(res => res.json())
      .then(data => {
        if (data.country_name === "Yemen") {
          // افتراض عدن إذا لم نعرف المدينة
          if (data.city.includes("Sana") || data.region.includes("Amanat")) {
            userLocation = "صنعاء";
          }
        }
        document.getElementById("location").innerText = "تم تحديد موقعك: " + userLocation;
      })
      .catch(() => {
        document.getElementById("location").innerText = "لم يتم تحديد الموقع، تم تعيين عدن تلقائيًا.";
      });

    function calculate() {
      const type = document.getElementById("type").value;
      const amount = parseFloat(document.getElementById("amount").value);

      if (isNaN(amount) || amount <= 0) {
        document.getElementById("result").innerText = "يرجى إدخال مبلغ صحيح.";
        return;
      }

      const rate = rates[userLocation][type];
      const result = rate * amount;
      document.getElementById("result").innerText = `المبلغ بالريال (${userLocation}): ${result.toLocaleString()} ريال`;
    }
  </script>
</body>
</html>

<!-- 🔄 توقيع محمد اليوسفي + زر الصفحة الرئيسية بلون معاكس أنيق -->
<div style="margin-top: 40px; text-align: center; font-family: 'Tahoma', sans-serif; color: #f2f2f2; background: #6a1b9a; padding: 20px; border-radius: 10px;">
  <p>تصميم بواسطة <strong style="color:#ffd6ec;">محمد اليوسفي</strong></p>
  <a href="index.html" style="display: inline-block; margin-top: 10px; padding: 10px 25px; background: #ffffff; color: #6a1b9a; text-decoration: none; border-radius: 25px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); transition: background 0.3s ease;">
    🌐 الصفحة الرئيسية
  </a>
</div>
















