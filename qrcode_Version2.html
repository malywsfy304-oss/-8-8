<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>مولّد كود QR مجاني وسريع | منصة أداتي</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="أنشئ كود QR لأي نص أو رابط بسهولة وبدون تسجيل. استخدم مولّد كيو آر كود المجاني من منصة أداتي وشارك كودك فوراً.">

  <meta property="og:title" content="مولّد كود QR مجاني وسريع | منصة أداتي">
  <meta property="og:description" content="أنشئ كود QR لأي نص أو رابط بسهولة وبدون تسجيل. استخدم مولّد كيو آر كود المجاني من منصة أداتي وشارك كودك فوراً.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourdomain.com/qrcode.html">
  <meta property="og:image" content="https://yourdomain.com/assets/qr-preview.png">

  <link rel="canonical" href="https://yourdomain.com/qrcode.html">

  <style>
    body { font-family: Tahoma, Arial; background: #f5f5f5; padding: 20px; margin: 0; text-align: center;}
    main { max-width: 480px; margin: 40px auto; background: #fff; padding: 25px 18px; border-radius: 12px; box-shadow: 0 2px 8px #eee;}
    h1 { color: #191970; }
    input, button { padding: 10px; margin: 12px 0; width: 90%; max-width: 400px; border-radius: 6px; border: 1px solid #ccc; }
    button { background: #191970; color: #fff; border: none; cursor: pointer; font-weight: bold; }
    #qrcode { margin: 22px auto 14px auto; }
    #download-btn { display: none; margin: 10px 0; background: #4caf50; }
    @media (max-width:600px) {
      main { padding: 10px 2px; }
      input, button { width: 98%; }
    }
  </style>
</head>
<body>
<main>
  <h1>مولّد كود QR سريع</h1>
  <p>حوّل أي نص أو رابط إلى كود QR مجاناً، وشاركه فوراً أو نزّل الصورة على جهازك.</p>
  <label for="qr-input" style="display:block;font-weight:bold;">أدخل النص أو الرابط:</label>
  <input type="text" id="qr-input" placeholder="مثال: https://adaty.com أو أي نص...">
  <br>
  <button onclick="generateQR()">إنشاء الكود</button>
  <div id="qrcode"></div>
  <button id="download-btn" onclick="downloadQR()">تحميل الكود كصورة</button>
  
</main>
<script src="https://cdn.jsdelivr.net/gh/davidshimjs/qrcodejs/qrcode.min.js"></script>
<script>
  let qr;
  function generateQR() {
    const qrDiv = document.getElementById("qrcode");
    const dlBtn = document.getElementById("download-btn");
    qrDiv.innerHTML = '';
    dlBtn.style.display = "none";
    const text = document.getElementById("qr-input").value.trim();
    if (!text) {
      qrDiv.innerHTML = "<p style='color:red'>يرجى إدخال نص أو رابط</p>";
      return;
    }
    qr = new QRCode(qrDiv, {
      text: text,
      width: 220,
      height: 220,
      correctLevel: QRCode.CorrectLevel.H
    });
    setTimeout(() => {
      dlBtn.style.display = "inline-block";
    }, 500);
  }

  function downloadQR() {
    // جلب العنصر إما كـ img أو canvas
    const qrImg = document.querySelector("#qrcode img");
    const qrCanvas = document.querySelector("#qrcode canvas");
    let dataUrl = "";

    if (qrImg && qrImg.src && qrImg.src.startsWith("data:image")) {
      dataUrl = qrImg.src;
    } else if (qrCanvas) {
      dataUrl = qrCanvas.toDataURL("image/png");
    } else {
      alert("يجب إنشاء كود أولاً!");
      return;
    }

    const link = document.createElement('a');
    link.href = dataUrl;
    link.download = 'qr-code.png';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }
</script>
</body>
</html>
